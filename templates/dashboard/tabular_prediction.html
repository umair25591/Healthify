{% extends "layout.html" %}

{% block title %}Tabular Prediction - Healthify{% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="{{ url_for('static', filename='css/tabular_prediction.css') }}">

<header>
    <div class="header-title">
        <h1>Interactive Health Canvas</h1>
        <p>Select a prediction type and complete the modules.</p>
    </div>
</header>

<div class="prediction-selector">
    <button class="disease-toggle active" data-target="heart-tab">Heart Disease</button>
    <button class="disease-toggle" data-target="kidney-tab">Kidney Disease</button>
</div>

<div class="tab-content">

    <!-- Heart Disease Form -->
    <div id="heart-tab" class="tab-pane active">
        
        <form action="{{ url_for('tabular_prediction') }}" method="POST">

            <input type="hidden" name="diseaseType" value="heart">

            <div class="row">

                <div id="physical-metrics" class="col-12">
                    <div class="form-cards">
                        <div class="module-header"><i class="fas fa-ruler-combined"></i> Physical Metrics <i class="fas fa-check-circle status-icon"></i></div>

                        <div class="form-group" data-disease="heart">
                            <label for="BMI">Enter your BMI (kg/m²)</label>
                            <input type="number" step="0.1" id="BMI" name="BMI" placeholder="e.g., 24.5" min="10" max="60" required>
                        </div>

                        <div class="form-group" data-disease="heart">
                            <label for="SleepTime">How many hours do you sleep on average per night?</label>
                            <input type="number" id="SleepTime" name="SleepTime" placeholder="e.g., 7" min="0" max="24" required>
                        </div>
                    </div>
                </div>

                <div id="medical-history" class="col-12">
                    <div class="form-cards">
                        <div class="module-header"><i class="fas fa-notes-medical"></i> Medical History <i class="fas fa-check-circle status-icon"></i></div>

                        <div class="form-group" data-disease="heart">
                            <label for="GenHealth">How would you rate your general health?</label>
                            <select id="GenHealth" name="GenHealth" required>
                                <option value="" disabled selected>Select health status...</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Very good">Very good</option>
                                <option value="Good">Good</option>
                                <option value="Fair">Fair</option>
                                <option value="Poor">Poor</option>
                            </select>
                        </div>

                        <div class="form-group" data-disease="heart">
                            <label for="PhysicalHealth">In the past 30 days, on how many days was your physical health not good?</label>
                            <input type="number" id="PhysicalHealth" name="PhysicalHealth" placeholder="Enter days (0-30)" min="0" max="30" required>
                        </div>

                        <div class="form-group" data-disease="heart">
                            <label for="MentalHealth">In the past 30 days, on how many days was your mental health not good?</label>
                            <input type="number" id="MentalHealth" name="MentalHealth" placeholder="Enter days (0-30)" min="0" max="30" required>
                        </div>
                    </div>
                </div>

                <div id="demographics" class="col-12">
                    <div class="form-cards">
                        <div class="module-header"><i class="fas fa-user-friends"></i> Demographics <i class="fas fa-check-circle status-icon"></i></div>

                        <div class="form-group" data-disease="heart">
                            <label for="AgeCategory">Enter your age in years</label>
                            <input type="number" id="AgeCategory" name="AgeCategory" placeholder="e.g., 45" min="1" max="100" required>
                        </div>
                    </div>
                </div>
                
                <div id="lifestyle" class="col-12 col-md-6"></div>

                <div class="submit-container">
                    <button type="submit" id="submitBtn" class="btn-submit">Predict Heart Disease</button>
                </div>

            </div>
        </form>
    </div>

    <!-- Kidney Disease Form -->
    <div id="kidney-tab" class="tab-pane">

        <form action="{{ url_for('tabular_prediction') }}" method="POST">

            <input type="hidden" name="diseaseType" value="kidney">

            <div class="row">

                <div id="kidney-physical-metrics" class="col-12">
                    <div class="form-cards">
                        <div class="module-header"><i class="fas fa-ruler-combined"></i> Physical Metrics <i class="fas fa-check-circle status-icon"></i></div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyBMI">Enter your BMI (kg/m²)</label>
                            <input type="number" step="0.1" id="KidneyBMI" name="BMI" placeholder="e.g., 24.5" required>
                        </div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneySleepTime">How many hours do you sleep on average per night?</label>
                            <input type="number" id="KidneySleepTime" name="SleepTime" placeholder="e.g., 7" required>
                        </div>
                    </div>
                </div>

                <div id="kidney-medical-history" class="col-12">
                    <div class="form-cards">
                        <div class="module-header"><i class="fas fa-notes-medical"></i> Medical History <i class="fas fa-check-circle status-icon"></i></div>
                        
                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyHeartDisease">Have you ever been diagnosed with heart disease?</label>
                            <select id="KidneyHeartDisease" name="HeartDisease" required>
                                <option value="" disabled selected>Select...</option>
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyGenHealth">How would you rate your general health?</label>
                            <select id="KidneyGenHealth" name="GenHealth" required>
                                <option value="" disabled selected>Select health status...</option>
                                <option value="Excellent">Excellent</option>
                                <option value="Very good">Very good</option>
                                <option value="Good">Good</option>
                                <option value="Fair">Fair</option>
                                <option value="Poor">Poor</option>
                            </select>
                        </div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyPhysicalHealth">Physical unhealthy days (in past 30 days)</label>
                            <input type="number" id="KidneyPhysicalHealth" name="PhysicalHealth" placeholder="Enter days (0-30)" min="0" max="30" required>
                        </div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyMentalHealth">Mental unhealthy days (in past 30 days)</label>
                            <input type="number" id="KidneyMentalHealth" name="MentalHealth" placeholder="Enter days (0-30)" min="0" max="30" required>
                        </div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyDiffWalking">Do you have difficulty walking?</label>
                            <select id="KidneyDiffWalking" name="DiffWalking" required>
                                <option value="" disabled selected>Select...</option>
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                            </select>
                        </div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyDiabetic">What is your diabetic status?</label>
                            <select id="KidneyDiabetic" name="Diabetic" required>
                                <option value="" disabled selected>Select status...</option>
                                <option value="No">No</option>
                                <option value="No, borderline diabetes">No, borderline diabetes</option>
                                <option value="Yes">Yes</option>
                                <option value="Yes (during pregnancy)">Yes (during pregnancy)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div id="kidney-demographics" class="col-12">
                    <div class="form-cards">
                        <div class="module-header"><i class="fas fa-user-friends"></i> Demographics <i class="fas fa-check-circle status-icon"></i></div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyAgeCategory">Select your age category</label>
                            <select id="KidneyAgeCategory" name="AgeCategory" required>
                                <option value="" disabled selected>Select age...</option>
                                <option value="18-24">18-24</option>
                                <option value="25-29">25-29</option>
                                <option value="30-34">30-34</option>
                                <option value="35-39">35-39</option>
                                <option value="40-44">40-44</option>
                                <option value="45-49">45-49</option>
                                <option value="50-54">50-54</option>
                                <option value="55-59">55-59</option>
                                <option value="60-64">60-64</option>
                                <option value="65-69">65-69</option>
                                <option value="70-74">70-74</option>
                                <option value="75-79">75-79</option>
                                <option value="80 or older">80 or older</option>
                            </select>
                        </div>

                        <div class="form-group" data-disease="kidney">
                            <label for="KidneyRace">Select your race</label>
                            <select id="KidneyRace" name="Race" required>
                                <option value="" disabled selected>Select race...</option>
                                <option value="White">White</option>
                                <option value="Black">Black</option>
                                <option value="Hispanic">Hispanic</option>
                                <option value="Asian">Asian</option>
                                <option value="American Indian/Alaskan Native">American Indian/Alaskan Native</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div id="kidney-lifestyle" class="col-12"></div>

                <div class="submit-container">
                    <button type="submit" id="submitBtn" class="btn-submit">Generate Prediction</button>
                </div>

            </div>
        </form>
    </div>

</div>



<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='js/tabular_prediction.js') }}"></script>

{% endblock %}